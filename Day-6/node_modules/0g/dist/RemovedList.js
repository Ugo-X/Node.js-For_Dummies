/**
 * Manages "removed" Entities, stuck in limbo between being
 * 'deleted' (from user perspective) and formally returned to
 * pools.
 */
export class RemovedList {
    constructor() {
        this._list = new Array();
        this._lookup = new Array();
        this.add = (entity) => {
            this._lookup[entity.id] = this._list.length;
            this._list.push(entity);
        };
        this.flush = (callback) => {
            while (this._list.length) {
                callback(this._list.shift());
            }
            this._lookup.length = 0;
        };
        this.get = (entityId) => {
            var _a;
            return (_a = this._list[this._lookup[entityId]]) !== null && _a !== void 0 ? _a : null;
        };
    }
}
//# sourceMappingURL=RemovedList.js.map